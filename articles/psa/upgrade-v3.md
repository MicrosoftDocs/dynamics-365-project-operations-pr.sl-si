---
title: Vidiki nadgradnje – Microsoft Dynamics 365 Project Service Automation različice 2.x ali 1.x na različico 3
description: V tej temi so na voljo informacije o vidikih, ki jih morate upoštevati pri nadgradnji storitve Project Service Automation različice 2.x ali 1.x na različico 3.
manager: kfend
ms.service: project-operations
ms.custom:
- dyn365-projectservice
ms.date: 11/13/2018
ms.topic: article
author: JohnPBurrows
ms.author: rumant
audience: Admin
search.audienceType:
- admin
- customizer
- enduser
search.app:
- D365PS
- ProjectOperations
ms.openlocfilehash: 3c51726f71cfd0d4be98982d6a02268d64a70b91
ms.sourcegitcommit: 4cf1dc1561b92fca4175f0b3813133c5e63ce8e6
ms.translationtype: HT
ms.contentlocale: sl-SI
ms.lasthandoff: 10/28/2020
ms.locfileid: "4121733"
---
# <a name="upgrade-considerations---psa-version-2x-or-1x-to-version-3"></a><span data-ttu-id="0e59e-103">Vidiki nadgradnje – nadgradnja storitve PSA različice 2.x ali 1.x na različico 3</span><span class="sxs-lookup"><span data-stu-id="0e59e-103">Upgrade considerations - PSA version 2.x or 1.x to version 3</span></span>
[!INCLUDE[cc-applies-to-psa-app-1x-2x](../includes/cc-applies-to-psa-app-1x-2x.md)]

## <a name="project-service-automation-and-field-service"></a><span data-ttu-id="0e59e-104">Storitvi Project Service Automation in Field Service</span><span class="sxs-lookup"><span data-stu-id="0e59e-104">Project Service Automation and Field Service</span></span>
<span data-ttu-id="0e59e-105">Storitvi Dynamics 365 Project Service Automation in Dynamics 365 Field Service uporabljata rešitev Universal Resourcing Scheduling (URS) za razporejanje virov.</span><span class="sxs-lookup"><span data-stu-id="0e59e-105">Both Dynamics 365 Project Service Automation and Dynamics 365 Field Service use the Universal Resourcing Scheduling (URS) solution for resource scheduling.</span></span> <span data-ttu-id="0e59e-106">Če imate v svojem primerku storitvi Project Service Automation in Field Service, bi morali načrtovati nadgradnjo obeh rešitev na najnovejšo različico (različica 3.x za Project Service Automation, različica 8.x za Field Service).</span><span class="sxs-lookup"><span data-stu-id="0e59e-106">If you have both Project Service Automation and Field Service in your instance, you should plan on upgrading both solutions to the latest version (version 3.x for Project Service Automation, version 8.x for Field Service).</span></span> <span data-ttu-id="0e59e-107">Z nadgradnjo storitve Project Service Automation ali Field Service bo nameščena najnovejša različica rešitve URS, kar pomeni, da do neskladnega delovanja lahko pride, če rešitvi Project Service Automation in Field Service v istem primerku nista nadgrajeni na najnovejšo različico.</span><span class="sxs-lookup"><span data-stu-id="0e59e-107">Upgrading Project Service Automation or Field Service will install the latest version of URS, which means that inconsistent behavior is possible if both Project Service Automation and Field Service solutions in the same instance aren’t upgraded to the latest version.</span></span>

## <a name="resource-assignments"></a><span data-ttu-id="0e59e-108">Dodelitve virov</span><span class="sxs-lookup"><span data-stu-id="0e59e-108">Resource assignments</span></span>
<span data-ttu-id="0e59e-109">Dodelitve opravil so bile v rešitvi Project Service Automation različic 2 in 1 shranjene kot podrejena opravila (imenovana tudi opravila vrstice) v polju **Entiteta opravila** in neposredno povezane z entiteto **Dodelitev vira**.</span><span class="sxs-lookup"><span data-stu-id="0e59e-109">In Project Service Automation version 2 and version 1, task assignments were stored as child tasks (also called line tasks) in the **Task entity**, and indirectly related to the **Resource Assignment** entity.</span></span> <span data-ttu-id="0e59e-110">Opravilo vrstice je bilo prikazano v pojavnem oknu dodelitev v strukturirani členitvi dela (SČD).</span><span class="sxs-lookup"><span data-stu-id="0e59e-110">The line task was visible in the assignment pop-up window on the Work Breakdown Structure (WBS).</span></span>

![Opravila vrstice v SČD v storitvi Project Service Automation različice 2 in različice 1](media/upgrade-line-task-01.png)

<span data-ttu-id="0e59e-112">V storitvi Project Service Automation različice 3 je spremenjena temeljna shema za dodeljevanje virov, ki jih je mogoče rezervirati, opravilom.</span><span class="sxs-lookup"><span data-stu-id="0e59e-112">In version 3 of Project Service Automation, the underlying schema of assigning bookable resources to tasks has changed.</span></span> <span data-ttu-id="0e59e-113">Opravilo vrstice je zastarelo in neposredno razmerje med opravilom v polju **Entiteta opravila** in članom ekipe v entiteti **Dodelitev vira** je 1:1.</span><span class="sxs-lookup"><span data-stu-id="0e59e-113">The line task has been deprecated and there is a direct 1:1 relationship between the task in the **Task entity** and the team member in the **Resource Assignment** entity.</span></span> <span data-ttu-id="0e59e-114">Opravila, ki so dodeljena članu projektne ekipe, so zdaj shranjena neposredno v entiteti dodelitve virov.</span><span class="sxs-lookup"><span data-stu-id="0e59e-114">Tasks that are assigned to a project team member are now stored directly in the Resource Assignment entity.</span></span>  

<span data-ttu-id="0e59e-115">Te spremembe vplivajo na nadgradnjo vseh obstoječih projektov, ki imajo dodelitve virov za imenovane vire, ki jih je mogoče rezervirati, in splošne vire v projektni ekipi.</span><span class="sxs-lookup"><span data-stu-id="0e59e-115">These changes impact the upgrade of any existing projects that have resource assignments for named bookable resources and generic resources on a project team.</span></span> <span data-ttu-id="0e59e-116">V tej temi so na voljo informacije o vidikih, ki jih bo treba upoštevati pri projektih, ko nadgradite na različico 3.</span><span class="sxs-lookup"><span data-stu-id="0e59e-116">This topic provides the considerations that you will need to take into account for your projects when you upgrade to version 3.</span></span> 

### <a name="tasks-assigned-to-named-resources"></a><span data-ttu-id="0e59e-117">Opravila, dodeljena poimenovanim virom</span><span class="sxs-lookup"><span data-stu-id="0e59e-117">Tasks assigned to named resources</span></span>
<span data-ttu-id="0e59e-118">S temeljno entiteto opravila so opravila v različici 2 in različici 1 članom ekipe omogočala uporabo vloge, ki ni njihova privzeta določena vloga.</span><span class="sxs-lookup"><span data-stu-id="0e59e-118">Using the underlying task entity, tasks in version 2 and version 1 allowed team members to portray a role other than their default defined role.</span></span> <span data-ttu-id="0e59e-119">Mateja Hribar, ki ji je na primer privzeto dodeljena vloga upravitelja programa, se lahko dodeli opravilo z vlogo razvijalca.</span><span class="sxs-lookup"><span data-stu-id="0e59e-119">For example, Gracie George, who’s by default assigned the role of Program Manager, could be assigned to a task with the role of Developer.</span></span> <span data-ttu-id="0e59e-120">V različici 3 je vloga imenovanega člana ekipe vedno privzeta, zato vsako opravilo, dodeljeno Mateji Hribar, uporablja njeno privzeto vlogo upravitelja programa.</span><span class="sxs-lookup"><span data-stu-id="0e59e-120">In version 3, the role of a named team member is always the default, so any task that Gracie George is assigned to uses her default role of Program Manager.</span></span>

<span data-ttu-id="0e59e-121">Če ste vir dodelili opravilu zunaj privzete vloge v različici 2 in različici 1, bo imenovani vir po nadgradnji dodeljen privzeti vlogi za vse dodelitve opravil ne glede na dodelitev vloge v različici 2.</span><span class="sxs-lookup"><span data-stu-id="0e59e-121">If you have assigned a resource to a task outside of their default role in version 2 and version 1, when you upgrade, the named resource will be assigned the default role for all task assignments, regardless of role assignment in version 2.</span></span> <span data-ttu-id="0e59e-122">To bo privedlo do različnih izračunanih ocen v različici 2 ali različici 1 ter različici 3, ker se ocene izračunajo na podlagi vloge vira in ne na podlagi dodelitve opravila vrstice.</span><span class="sxs-lookup"><span data-stu-id="0e59e-122">This will result in differences in the calculated estimates from version 2 or version 1 to version 3 because estimates are calculated based on the role of the resource and not the line task assignment.</span></span> <span data-ttu-id="0e59e-123">V različici 2 sta na primer bili dve opravili dodeljeni Ani Breznik.</span><span class="sxs-lookup"><span data-stu-id="0e59e-123">For example, in version 2, two tasks have been assigned to Ashley Chinn.</span></span> <span data-ttu-id="0e59e-124">Vloga v opravilu vrstice za opravilo 1 je »Razvijalec«, za opravilo 2 pa »Upravitelj programa«.</span><span class="sxs-lookup"><span data-stu-id="0e59e-124">The role on the line task for task 1 is Developer and for task 2, Program Manager.</span></span> <span data-ttu-id="0e59e-125">Ana Breznik ima privzeto vlogo »Upravitelj programa«.</span><span class="sxs-lookup"><span data-stu-id="0e59e-125">Ashley Chinn has the default role of Program Manager.</span></span>

![Več vlog, dodeljenih enemu viru](media/upgrade-multiple-roles-02.png)

<span data-ttu-id="0e59e-127">Ker se vlogi razvijalca in upravitelja programa razlikujeta, so ocene stroškov in prodaje naslednje:</span><span class="sxs-lookup"><span data-stu-id="0e59e-127">Because the roles of Developer and Program Manager differ, the cost and sales estimates are as follows:</span></span>

![Ocene stroškov za vloge virov](media/upggrade-cost-estimates-03.png)

![Ocene prodaje za vloge virov](media/upgrade-sales-estimates-04.png)

<span data-ttu-id="0e59e-130">Ko nadgradite na različico 3, bodo opravila vrstice zamenjana z dodelitvami virov v opravilu člana ekipe vira, ki ga je mogoče rezervirati.</span><span class="sxs-lookup"><span data-stu-id="0e59e-130">When you upgrade to version 3, line tasks are replaced with resource assignments on the task of the bookable resource team member.</span></span> <span data-ttu-id="0e59e-131">Dodelitev bo uporabila privzeto vlogo vira, ki ga je mogoče rezervirati.</span><span class="sxs-lookup"><span data-stu-id="0e59e-131">The assignment will use the default role of the bookable resource.</span></span> <span data-ttu-id="0e59e-132">Na naslednjem grafičnem prikazu je vir Ana Breznik, ki ima vlogo upravitelja programa.</span><span class="sxs-lookup"><span data-stu-id="0e59e-132">In the following graphic, Ashley Chinn who has a role of Program Manager, is the resource.</span></span>

![Dodelitve virov](media/resource-assignment-v2-05.png)

<span data-ttu-id="0e59e-134">Ker ocene temeljijo na privzeti vlogi za vir, se lahko ocene prodaje in stroškov spremenijo.</span><span class="sxs-lookup"><span data-stu-id="0e59e-134">Because the estimates are based on the default role for the resource, the sales and cost estimates may change.</span></span> <span data-ttu-id="0e59e-135">Upoštevajte, da naslednji grafični prikaz ne vključuje vloge **Razvijalec**, ker je vloga zdaj izbrana glede na privzeto vlogo vira, ki ga je mogoče rezervirati.</span><span class="sxs-lookup"><span data-stu-id="0e59e-135">Note that in the following graphic, you no longer see the **Developer** role as the role is now taken from the bookable resource’s default role.</span></span>

<span data-ttu-id="0e59e-136">![Ocene stroškov za privzete vloge](media/resource-assignment-cost-estimate-06.png)
![Ocene prodaje za privzete vloge](media/resource-assignment-sales-estimate-07.png)</span><span class="sxs-lookup"><span data-stu-id="0e59e-136">![Cost estimates for default roles](media/resource-assignment-cost-estimate-06.png)
![Sales estimate for default roles](media/resource-assignment-sales-estimate-07.png)</span></span>

<span data-ttu-id="0e59e-137">Ko je nadgradnja dokončana, lahko izberete vlogo člana ekipe, ki ni privzeto dodeljena.</span><span class="sxs-lookup"><span data-stu-id="0e59e-137">After upgrade is complete, you can edit a team member's role to be something other than the assigned default.</span></span> <span data-ttu-id="0e59e-138">Če pa spremenite vlogo člana ekipe, se bo spremenila pri vseh njegovih dodeljenih opravilih, ker članom ekipe v različici 3 ni več dovoljeno dodeljevati več vlog.</span><span class="sxs-lookup"><span data-stu-id="0e59e-138">However, if you change a team members role, it will be changed on all of their assigned tasks because team members are no longer allowed to be assigned multiple roles in version 3.</span></span>

![Posodobitev vloge vira](media/resource-role-assignment-08.png)

<span data-ttu-id="0e59e-140">To velja tudi za opravila vrstice, ki so bila dodeljena poimenovanim virom, ko privzeto organizacijsko enoto vira spremenite v drugo organizacijsko enoto.</span><span class="sxs-lookup"><span data-stu-id="0e59e-140">This is also true for line tasks that were assigned to named resources when you change the resource’s organization unit from the default to another organization unit.</span></span> <span data-ttu-id="0e59e-141">Ko je nadgradnja na različico 3 dokončana, bo dodelitev uporabila privzeto organizacijsko enoto vira namesto tiste, ki je nastavljena v opravilu vrstice.</span><span class="sxs-lookup"><span data-stu-id="0e59e-141">After the version 3 upgrade is complete, the assignment will use the resource’s default organization unit instead of the one set on the line task.</span></span>

### <a name="tasks-assigned-to-generic-resources"></a><span data-ttu-id="0e59e-142">Opravila, dodeljena splošnim virom</span><span class="sxs-lookup"><span data-stu-id="0e59e-142">Tasks assigned to generic resources</span></span>
<span data-ttu-id="0e59e-143">V različici 2 in različici 1 lahko nastavite vlogo in organizacijsko enoto v opravilu ter nato uporabite funkcijo **Ustvari ekipo**, da ustvarite splošne vire na podlagi atributov, ki so nastavljeni v opravilu.</span><span class="sxs-lookup"><span data-stu-id="0e59e-143">In version 2 and version 1, you can set the role and org unit on a task and then use the **Generate team** feature to generate generic resources based on the attributes set on the task.</span></span> <span data-ttu-id="0e59e-144">V različici 3 lahko ustvarite splošne člane ekipe z vlogo in organizacijsko enoto ter jim nato dodelite opravila.</span><span class="sxs-lookup"><span data-stu-id="0e59e-144">In version 3, you create the generic team members with role and org unit, and then assign the team members to tasks.</span></span>

<span data-ttu-id="0e59e-145">V različici 2 in različici 1 lahko projekti s splošnimi viri imajo dva stanja ali pa kombinacijo obeh stanj na ravni opravila.</span><span class="sxs-lookup"><span data-stu-id="0e59e-145">In version 2 and version 1, projects with generic resources can be in two states, or a mix of both at the task level.</span></span> <span data-ttu-id="0e59e-146">Lahko imate na primer naslednje scenarije:</span><span class="sxs-lookup"><span data-stu-id="0e59e-146">For example, you can have the following scenarios:</span></span>

- <span data-ttu-id="0e59e-147">Nastavljena so opravila z vlogami in organizacijskimi enotami, vendar ni bila ustvarjena nobena povezana dodelitev vira.</span><span class="sxs-lookup"><span data-stu-id="0e59e-147">Tasks with roles and org units set, but no affiliated resource assignment has been generated.</span></span>
- <span data-ttu-id="0e59e-148">Opravila z dodelitvami virov splošnim članom ekipe, ki so bila dodeljena z ustvarjanjem splošnega vira s funkcijo **Ustvari ekipo**.</span><span class="sxs-lookup"><span data-stu-id="0e59e-148">Tasks with generic team member resource assignments that were assigned by creating generic resource using the **Generate team** feature.</span></span>

<span data-ttu-id="0e59e-149">Pred nadgradnjo priporočamo, da znova ustvarite ekipo za vsak projekt, ki ima opravila, dodeljena splošnim virom, ali opravila, za katera je še treba izvesti postopek ustvarjanja ekipe.</span><span class="sxs-lookup"><span data-stu-id="0e59e-149">Before you begin your upgrade, we recommend that you re-generate the team for each project that has tasks assigned to generic resources or has yet to have the generate team process run on them.</span></span>

<span data-ttu-id="0e59e-150">Pri opravilih, dodeljenih splošnim članom ekipe, ki so bila ustvarjena s funkcijo **Ustvari ekipo**, bo z nadgradnjo ohranjen splošni vir v ekipi in dodelitev temu splošnemu članu ekipe.</span><span class="sxs-lookup"><span data-stu-id="0e59e-150">For tasks that are assigned to generic team members that were generated with **Generate Team**, the upgrade will leave the generic resource on the team and leave the assignment to that generic team member.</span></span> <span data-ttu-id="0e59e-151">Priporočamo, da ustvarite zahtevo vira za splošnega člana ekipe po posodobitvi, vendar pred rezervacijo ali pošiljanjem zahteve za vir.</span><span class="sxs-lookup"><span data-stu-id="0e59e-151">We recommend that you generate the resource requirement for the generic team member after the upgrade but before you book or submit a resource request.</span></span> <span data-ttu-id="0e59e-152">Tako bodo ohranjene vse dodelitve organizacijskih enot pri splošnih članih ekipe, ki se razlikujejo od pogodbene organizacijske enote projekta.</span><span class="sxs-lookup"><span data-stu-id="0e59e-152">This will preserve any org unit assignments on the generic team members that are different than the project’s contracting org unit.</span></span>

<span data-ttu-id="0e59e-153">Pri projektu Projekt Z je na primer pogodbena organizacijska enota Contoso US.</span><span class="sxs-lookup"><span data-stu-id="0e59e-153">For example, in the Project Z project, the contracting org unit is Contoso US.</span></span> <span data-ttu-id="0e59e-154">V načrtu projekta je bilo preizkušanje opravil na uvajalni stopnji dodeljeno vlogi »Tehnični svetovalec« in dodeljena organizacijska enota je bila Contoso India.</span><span class="sxs-lookup"><span data-stu-id="0e59e-154">In the project plan, testing tasks within the Implementation phase have been assigned the role Technical Consultant and the assigned org unit is Contoso India.</span></span>

![Dodelitev organizacije na uvajalni stopnji](media/org-unit-assignment-09.png)

<span data-ttu-id="0e59e-156">Po uvajalni stopnji je opravilo preizkusa integracije dodeljeno vlogi »Tehnični svetovalec«, toda organizacijska enota je nastavljena na Contoso US.</span><span class="sxs-lookup"><span data-stu-id="0e59e-156">After the implementation phase, the integration test task is assigned to the role Technical consultant, but the org is set to Contoso US.</span></span>  

![Dodelitev organizacijske enote za opravilo preizkusa integracije](media/org-unit-generate-team-10.png)

<span data-ttu-id="0e59e-158">Ko ustvarite ekipo za projekt, sta zaradi različnih organizacijskih enot v opravilih ustvarjena dva splošna člana ekipe.</span><span class="sxs-lookup"><span data-stu-id="0e59e-158">When you generate a team for the project, two generic team members are created due to the different org units on the tasks.</span></span> <span data-ttu-id="0e59e-159">Tehničnemu svetovalcu 1 bodo dodeljena opravila enote Contoso India, tehničnemu svetovalcu 2 pa opravila enote Contoso US.</span><span class="sxs-lookup"><span data-stu-id="0e59e-159">Technical consultant 1 will be assigned the Contoso India tasks and Technical consultant 2 will have the Contoso US tasks.</span></span>  

![Ustvarjeni splošni člani ekipe](media/org-unit-assignments-multiple-resources-11.png)

> [!NOTE]
> <span data-ttu-id="0e59e-161">Član ekipe v storitvi Project Service Automation različice 2 in različice 1 ne nadzira organizacijske enote, ki je vzdrževana v opravilu vrstice.</span><span class="sxs-lookup"><span data-stu-id="0e59e-161">In Project Service Automation version 2 and version 1, the team member does not hold the organization unit, that is maintained on the line task.</span></span>

![Opravila vrstice v storitvi Project Service Automation različice 2 in različice 1](media/line-tasks-12.png)

<span data-ttu-id="0e59e-163">Organizacijsko enoto si lahko ogledate v pogledu ocen.</span><span class="sxs-lookup"><span data-stu-id="0e59e-163">You can see the organization unit on the estimates view.</span></span> 

![Ocene organizacijskih enot](media/org-unit-estimates-view-13.png)
 
<span data-ttu-id="0e59e-165">Ko je nadgradnja dokončana, je organizacijska enota v opravilu vrstice, ki ustreza splošnemu članu ekipe, dodana splošnemu članu ekipe in opravilo vrstice je odstranjeno.</span><span class="sxs-lookup"><span data-stu-id="0e59e-165">When the upgrade is complete, the organization unit on the line task that corresponds to the generic team member is added to the generic team member and the line task is removed.</span></span> <span data-ttu-id="0e59e-166">Zaradi tega priporočamo, da pred nadgradnjo ustvarite ali znova ustvarite ekipo za vsak projekt, ki vsebuje splošne vire.</span><span class="sxs-lookup"><span data-stu-id="0e59e-166">Because of this, we recommend that before you upgrade, you generate or re-generate the team on each project that contains generic resources.</span></span>

<span data-ttu-id="0e59e-167">Pri opravilih, ki so dodeljena vlogi z organizacijsko enoto, ki se razlikuje od organizacijske enote pogodbenega projekta, in za katere skupina ni ustvarjena, bo z nadgradnjo ustvarjen splošni član ekipe za vlogo, pogodbena enota projekta pa bo uporabljena kot organizacijska enota člana ekipe.</span><span class="sxs-lookup"><span data-stu-id="0e59e-167">For tasks that are assigned to a role with an org unit that differs from the org unit of the contracting project, and a team has not been generated, upgrade will create a generic team member for the role, but will use the contracting unit of the project for the team member's org unit.</span></span> <span data-ttu-id="0e59e-168">Če se sklicujemo na primer s Projektom Z, to pomeni, da so pogodbena organizacijska enota Contoso US in opravila preizkusa iz načrta projekta na uvajalni stopnji bila dodeljena vlogi »Tehnični svetovalec« z dodeljeno organizacijsko enoto Contoso India.</span><span class="sxs-lookup"><span data-stu-id="0e59e-168">Referring back to the example with Project Z, this means that the contracting org unit Contoso US, and the project plan testing tasks within the Implementation phase have been assigned the role Technical Consultant with the org unit assigned to Contoso India.</span></span> <span data-ttu-id="0e59e-169">Opravilo preizkusa integracije, ki je bilo dokončano po uvajalni stopnji, je bilo dodeljeno vlogi »Tehnični svetovalec«.</span><span class="sxs-lookup"><span data-stu-id="0e59e-169">The Integration test task that is completed after the Implementation phase has been assigned to the role Technical consultant.</span></span> <span data-ttu-id="0e59e-170">Organizacijska enota je Contoso US in ekipa ni bila ustvarjena.</span><span class="sxs-lookup"><span data-stu-id="0e59e-170">The org unit is Contoso US and a team has not been generated.</span></span> <span data-ttu-id="0e59e-171">Z nadgradnjo bo ustvarjen en splošni član ekipe, tehnični svetovalec, ki ima dodeljene ure vseh treh opravil, in organizacijska enota Contoso US, ki je pogodbena organizacijska enota projekta.</span><span class="sxs-lookup"><span data-stu-id="0e59e-171">Upgrade will create one generic team member, a Technical consultant that has the assigned hours of all three tasks, and an org unit of Contoso US, the project’s contracting org unit.</span></span>   
 
<span data-ttu-id="0e59e-172">Zaradi spreminjanja privzetih vrednosti različnih organizacijskih enot virov pri neustvarjenih članih ekipe priporočamo, da pred nadgradnjo ustvarite ali znova ustvarite ekipo za vsak projekt, ki vsebuje splošne vire, tako da dodelitve organizacijskih enot ne bodo izgubljene.</span><span class="sxs-lookup"><span data-stu-id="0e59e-172">Changing the default of the different resourcing org units on un-generated team members is the reason we recommend that you generate or re-generate the team on each project that contains generic resources prior to the upgrade so that the org unit assignments are not lost.</span></span>

